<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <ui:composition>
        <h:form>
            <p:panelGrid styleClass="transparent" style="margin: auto;">
                <p:row>
                    <p:column>
                        <p:outputLabel for="amount" value="小包数量："/>
                    </p:column>
                    <p:column>
                        <p:spinner id="amount" value="#{packScanner.amount}"
                                   size="3" min="20" max="200"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column>
                        <p:outputLabel for="bulkPackCode" value="大包扫码："/>
                    </p:column>
                    <p:column>
                        <p:inputText id="bulkPackCode" maxlength="20"
                                     value="#{packScanner.bulkPackCode}"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column>
                        <p:outputLabel for="smallPackCode" value="小包扫码："/>
                    </p:column>
                    <p:column>
                        <p:inputText id="smallPackCode" maxlength="20"
                                     value="#{packScanner.smallPackCode}"/>
                    </p:column>
                    <p:column>
                        <p:commandButton value="添加" action="#{packScanner.addSmallPackCode}"
                                         process="smallPackCode @this"
                                         update="smallPackCode smallPackCodes"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column/>
                    <p:column colspan="2">
                        <p:scrollPanel mode="native" style="height: 200px;">
                            <p:dataList id="smallPackCodes" type="ordered"
                                        value="#{packScanner.smallPackCodes}"
                                        var="smallPackCode" emptyMessage="尚未扫描小包。">
                                #{smallPackCode}
                            </p:dataList>
                        </p:scrollPanel>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column colspan="3">
                        <h:panelGroup layout="block" styleClass="submit">
                            <p:commandButton value="绑定" action="#{packScanner.bindCodes}"
                                             process="amount bulkPackCode @this"
                                             update="bulkPackCode smallPackCode smallPackCodes"/>
                        </h:panelGroup>
                    </p:column>
                </p:row>
            </p:panelGrid>
        </h:form>
    </ui:composition>
</html>
