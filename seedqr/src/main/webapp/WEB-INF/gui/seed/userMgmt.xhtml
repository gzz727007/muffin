<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <ui:composition>
        <h:form>
        <p:commandButton value="添加厂家用户信息" type="button" onclick="PF('dlg1').show();" /> 

        <p:dataTable id="wholesalerList" var="user" value="#{userMgmt.users}" paginator="true" rows="10" emptyMessage="没有销售商记录。">
            <p:column headerText="用户名">
                <h:outputText value="#{user.userName}" />
            </p:column>
            <p:column headerText="公司简称">
                <h:outputText value="#{user.name}" />
            </p:column>

            <p:column headerText="公司名">
                <h:outputText value="#{user.companyName}" />
            </p:column>

            <p:column headerText="联系人名字">
                <h:outputText value="#{user.contact}" />
            </p:column>

            <p:column headerText="联系人电话">
                <h:outputText value="#{user.handphone}" />
            </p:column>
        </p:dataTable>

        <p:dialog header="添加生产厂家" widgetVar="dlg1" modal="true" showEffect="explode" hideEffect="bounce" minHeight="600" width="800">
            
            <p:panelGrid columns="2" styleClass="transparent" style="margin: auto;">
                <p:outputLabel for="userName" value="用户名："/>
                <p:inputText id="userName" value="#{userMgmt.user.userName}" maxlength="20"/>
                <p:outputLabel for="name" value="公司简称："/>
                <p:inputText id="name" value="#{userMgmt.user.name}" maxlength="20"/>
                <p:outputLabel for="companyName" value="公司名："/>
                <p:inputText id="companyName" value="#{userMgmt.user.companyName}" maxlength="50"/>
                <p:outputLabel for="contact" value="联系人："/>
                <p:inputText id="contact" value="#{userMgmt.user.contact}" maxlength="20"/>
                <p:outputLabel for="handphone" value="联系电话："/>
                <p:inputText id="handphone" value="#{userMgmt.user.handphone}" maxlength="20"/>
                <f:facet name="footer">
                    <h:panelGroup layout="block" style="width: 100%; text-align: center;">
                        <p:commandButton value="保存" ajax="true" process="@form"
                                         action="#{userMgmt.addUser}" oncomplete="PF('dlg1').hide();" update="wholesalerList"/>
                    </h:panelGroup>
                </f:facet>
            </p:panelGrid>
        </p:dialog>
        </h:form>
    </ui:composition>
</html>
